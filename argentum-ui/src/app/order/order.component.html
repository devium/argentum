<div *ngIf="products" class="container-fluid">
  <div class="row h-100">
    <div class="col-lg-8 px-4 my-2">

      <div class="row">
        <div class="col">
          <h4 class="text-center">Product range</h4>
        </div>
      </div>

      <div class="row">
        <div *ngFor="let product of getPaginated(products, rangeProductsPerPage, rangePage)"
             class="col-sm-2 col-4 p-05">
          <button (click)="rangeProductClicked(product)" type="button" class="btn btn-block btn-product"
                  [style.background-color]="product.category.color"
                  [class.dark-bg]="isDarkBackground(product.category.color)">
            <div>{{product.name}}</div>
            <div>€ {{product.price | number: '1.2-2'}}</div>
          </button>
        </div>
        <div
          *ngFor="let i of 1 | range : getNumPadItems(products.length, rangeProductsPerPage, rangePage)"
          class="col-sm-2 col-4 p-05">
          <button type="button" class="btn btn-block btn-product btn-dummy disabled" disabled></button>
        </div>
        <div class="col-sm-2 col-4 p-05">
          <button (click)="addCustomProduct()" type="button"
                  class="btn btn-outline-primary btn-block btn-product btn-product-custom">Custom
          </button>
        </div>
      </div>

      <div class="row justify-content-center my-1">
        <ngb-pagination [collectionSize]="products.length" [(page)]="rangePage" [pageSize]="rangeProductsPerPage"
                        size="lg"></ngb-pagination>
      </div>

      <div class="row my-1">
        <button type="button" class="btn btn-primary btn-block btn-lg"><i class="fa fa-refresh fa-lg"></i></button>
      </div>

    </div>
    <div class="col-lg-4 px-4 my-2">

      <div class="row">
        <div class="col">
          <h4 class="text-center">Current order: € {{total | number: '1.2-2'}}</h4>
        </div>
      </div>

      <div class="row">
        <div
          *ngFor="let productEntry of orderedProducts | iterable | slice:(orderProductsPerPage * (orderPage - 1)):(orderProductsPerPage * orderPage)"
          class="col-lg-4 col-sm-2 col-4 p-05">
          <button *ngIf="productEntry.key.id > -1" (click)="orderedProductClicked(productEntry.key)" type="button"
                  class="btn btn-block btn-product" [style.background-color]="productEntry.key.category.color"
                  [class.dark-bg]="isDarkBackground(productEntry.key.category.color)">
            <div>{{productEntry.key.name}}</div>
            <div>€ {{productEntry.key.price | number: '1.2-2'}}</div>
            <div>x{{productEntry.value}}</div>
          </button>
          <button *ngIf="productEntry.key.id == -1" (click)="orderedProductClicked(productEntry.key)" type="button"
                  class="btn btn-block btn-outline-primary btn-product btn-product-custom">
            <div>Custom</div>
            <div>€ {{productEntry.key.price | number: '1.2-2'}}</div>
          </button>
        </div>
        <div
          *ngFor="let i of 1 | range : getNumPadItems(orderedProducts.size, orderProductsPerPage, orderPage)"
          class="col-lg-4 col-sm-2 col-4 p-05">
          <button type="button" class="btn btn-block btn-product btn-dummy disabled" disabled></button>
        </div>
      </div>

      <div class="row justify-content-center my-1">
        <ngb-pagination [collectionSize]="orderedProducts.size" [(page)]="orderPage"
                        [pageSize]="orderProductsPerPage" size="lg"></ngb-pagination>
      </div>

      <div class="row my-1">
        <button type="button" class="btn btn-primary btn-block btn-lg">
          <i class="fa fa-shopping-cart fa-lg"></i>
          <i class="fa fa-long-arrow-right fa-lg"></i>
        </button>
      </div>

    </div>
  </div>
</div>
